<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Proposal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            background-color: black;
            color: white;
            font-family: 'Press Start 2P', cursive;
            overflow: hidden;
        }
        
        #text-container {
            padding: 20px;
        }
        
        .typing {
            white-space: pre-line;
            overflow: hidden;
            border-right: 2px solid white;
            display: inline-block;
            animation: blinkCursor 0.8s infinite;
        }
        
        @keyframes blinkCursor {
            50% { border-color: transparent; }
        }
        
        #nah-btn {
            background-color: red;
            color: white;
            font-family: 'Press Start 2P', cursive;
            border: none;
            padding: 10px;
            cursor: pointer;
            margin-left: 20px;
        }
        
        #nah-btn:active {
            transform: scale(0.9);
        }
        
        #image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50vh;
            opacity: 0;
            transition: opacity 2s ease-in;
        }
        
        #falling-roses {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .rose {
            position: absolute;
            top: -50px;
            animation: fall 4s linear infinite;
        }
        
        @keyframes fall {
            from { transform: translateY(0); }
            to { transform: translateY(100vh); }
        }
        
        #final-text {
            position: absolute;
            bottom: 10%;
            right: 5%;
            text-align: right;
        }
        
        .glow {
            font-size: 30px;
            animation: glow 1s infinite alternate;
            cursor: pointer;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 5px red; }
            to { text-shadow: 0 0 15px red; }
        }
    </style>
</head>
<body>
    <div id="text-container"></div>
    <button id="nah-btn" style="display: none;">Nah</button>
    <div id="image-container">
        <img id="fool-img" src="Fool.jpg" alt="Fool" width="300">
    </div>
    <div id="falling-roses"></div>
    <div id="final-text" style="display: none;">
        <p>Take this rose</p>
        <p>from your fool</p>
        <p>&darr;</p>
        <p class="glow" onclick="window.location.href='https://roman-chao-tic.github.io/Proposal-3/';">ðŸŒ¹</p>
    </div>
    
    <audio id="prop2" loop>
        <source src="prop2.mp3" type="audio/mp3">
    </audio>
    
    <script>
        const textContainer = document.getElementById('text-container');
        const nahBtn = document.getElementById('nah-btn');
        const imageContainer = document.getElementById('image-container');
        const finalText = document.getElementById('final-text');
        const audio = document.getElementById('prop2');

        function typeText(text, speed = 100) {
            return new Promise(resolve => {
                let i = 0;
                const interval = setInterval(() => {
                    textContainer.innerHTML = `<span class='typing'>${text.slice(0, i)}</span>`;
                    i++;
                    if (i > text.length) {
                        clearInterval(interval);
                        textContainer.innerHTML = text;
                        resolve();
                    }
                }, speed);
            });
        }
        
        async function startSequence() {
            await typeText("Gandu ta toke flowers dilo??", 100);
            nahBtn.style.display = 'inline-block';
        }
        
        nahBtn.addEventListener('click', async () => {
            nahBtn.style.display = 'none';
            await typeText("Jantammm!!!!!! What a f*cking incompetent\nWell, anyways ei ne phul from your fool", 100);
            setTimeout(() => {
                imageContainer.style.opacity = 1;
                finalText.style.display = 'block';
                audio.play();
                startFallingRoses();
            }, 2000);
        });
        
        function startFallingRoses() {
            for (let i = 0; i < 20; i++) {
                let rose = document.createElement('div');
                rose.innerHTML = 'ðŸŒ¹';
                rose.classList.add('rose');
                rose.style.left = Math.random() * window.innerWidth + 'px';
                rose.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.getElementById('falling-roses').appendChild(rose);
                setTimeout(() => rose.remove(), 5000);
            }
            setTimeout(startFallingRoses, 1000);
        }
        
        startSequence();
    </script>
</body>
</html>
